{"version":3,"sources":["webpack:///./src/views/templates.vue?7f72","webpack:///src/views/templates.vue","webpack:///./src/views/templates.vue?0591","webpack:///./src/views/templates.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","addTemplate","_v","attrs","loading","items","fields","scopedSlots","_u","key","fn","row","$event","editTemplate","deleteTemplate","rows","perPage","fetchData","currentPage","model","value","callback","$$v","expression","staticRenderFns","name","components","created","methods","$router","push","console","log","data","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,GAAG,CAAC,MAAQN,EAAIO,cAAc,CAACP,EAAIQ,GAAG,oBAAoBJ,EAAG,YAAY,CAACK,MAAM,CAAC,KAAOT,EAAIU,QAAQ,QAAU,OAAO,CAACN,EAAG,UAAU,CAACK,MAAM,CAAC,GAAK,kBAAkB,MAAQT,EAAIW,MAAM,OAASX,EAAIY,QAAQC,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,aAAaC,GAAG,SAASC,GAAK,MAAO,CAACb,EAAG,WAAW,CAACK,MAAM,CAAC,QAAU,WAAWH,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOlB,EAAImB,aAAaF,MAAQ,CAACjB,EAAIQ,GAAG,sBAAsB,CAACO,IAAI,eAAeC,GAAG,SAASC,GAAK,MAAO,CAACb,EAAG,WAAW,CAACK,MAAM,CAAC,QAAU,UAAUH,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOlB,EAAIoB,eAAeH,MAAQ,CAACjB,EAAIQ,GAAG,oBAAoBJ,EAAG,eAAe,CAACK,MAAM,CAAC,aAAaT,EAAIqB,KAAK,WAAWrB,EAAIsB,QAAQ,gBAAgB,mBAAmBhB,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOlB,EAAIuB,UAAUvB,EAAIwB,eAAeC,MAAM,CAACC,MAAO1B,EAAe,YAAE2B,SAAS,SAAUC,GAAM5B,EAAIwB,YAAYI,GAAKC,WAAW,kBAAkB,GAAGzB,EAAG,gBAAgB,IACp+B0B,EAAkB,G,YC0BtB,GACEC,KAAM,YACNC,WAAY,GACZC,QAAS,WACPhC,KAAKsB,UAAU,IAEjBW,QAAS,CACPf,aADJ,SACA,GACMlB,KAAKkC,QAAQC,KAAK,CAAxB,4CAEIhB,eAJJ,SAIA,cACM,EAAN,iDACQ,EAAR,yBACQiB,QAAQC,IAAIC,OAGhBhC,YAAa,WACXN,KAAKkC,QAAQC,KAAK,gBAEpBb,UAbJ,SAaA,cACMtB,KAAKS,SAAU,EACf,EAAN,iCACQ,EAAR,mBACQ,EAAR,uBACQ,EAAR,wBACQ,EAAR,gBAIE6B,KA7BF,WA8BI,MAAO,CACL7B,SAAS,EACTW,KAAM,KACNC,QAAS,KACTE,YAAa,EACbZ,OAAQ,CACd,CAAQ,IAAR,OAAQ,MAAR,YACA,CAAQ,IAAR,WAAQ,MAAR,eACA,CAAQ,IAAR,OAAQ,MAAR,IACA,CAAQ,IAAR,SAAQ,MAAR,KAEMD,MAAO,QCpEsU,I,YCO/U6B,EAAY,eACd,EACAzC,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/chunk-2d0f0fe2.6e3b07da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-button',{on:{\"click\":_vm.addTemplate}},[_vm._v(\"Добавить форму\")]),_c('b-overlay',{attrs:{\"show\":_vm.loading,\"rounded\":\"sm\"}},[_c('b-table',{attrs:{\"id\":\"templates-table\",\"items\":_vm.items,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(edit)\",fn:function(row){return [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.editTemplate(row)}}},[_vm._v(\"Редактировать\")])]}},{key:\"cell(delete)\",fn:function(row){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTemplate(row)}}},[_vm._v(\"Удалить\")])]}}])}),_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"aria-controls\":\"templates-table\"},on:{\"input\":function($event){return _vm.fetchData(_vm.currentPage)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-button v-on:click=\"addTemplate\">Добавить форму</b-button>\n    <b-overlay :show=\"loading\" rounded=\"sm\">\n      <b-table id=\"templates-table\" :items=\"items\" :fields=\"fields\">\n        <template #cell(edit)=\"row\">\n          <b-button v-on:click=\"editTemplate(row)\" variant=\"primary\">Редактировать</b-button>\n        </template>\n        <template #cell(delete)=\"row\">\n          <b-button v-on:click=\"deleteTemplate(row)\" variant=\"danger\">Удалить</b-button>\n        </template>\n      </b-table>\n      <b-pagination\n        @input=\"fetchData(currentPage)\"\n        v-model=\"currentPage\"\n        :total-rows=\"rows\"\n        :per-page=\"perPage\"\n        aria-controls=\"templates-table\"\n      ></b-pagination>\n    </b-overlay>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport { TemplatesService } from \"@/common/api.service\";\n\nexport default {\n  name: \"templates\",\n  components: {},\n  created: function() {\n    this.fetchData(1);\n  },\n  methods: {\n    editTemplate(row) {\n      this.$router.push({ path: \"editTemplate\", query: { id: row.item.id } });\n    },\n    deleteTemplate(row) {\n      TemplatesService.deleteTemplate(row.item.id).then(data => {\n        this.fetchData(this.currentPage);\n        console.log(data);\n      });\n    },\n    addTemplate: function() {\n      this.$router.push(\"addTemplate\");\n    },\n    fetchData(page) {\n      this.loading = true;\n      TemplatesService.get(page ? page : 1).then(data => {\n        this.items = data.data.items;\n        this.rows = data.data.totalItems;\n        this.perPage = data.data.per_page;\n        this.loading = false;\n      });\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      rows: null,\n      perPage: null,\n      currentPage: 1,\n      fields: [\n        { key: \"name\", label: \"Название\" },\n        { key: \"comments\", label: \"Комментарий\" },\n        { key: \"edit\", label: \"\" },\n        { key: \"delete\", label: \"\" }\n      ],\n      items: null\n    };\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./templates.vue?vue&type=template&id=04db203a&\"\nimport script from \"./templates.vue?vue&type=script&lang=js&\"\nexport * from \"./templates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}