{"version":3,"sources":["webpack:///./src/views/prescribe.vue?9d58","webpack:///src/views/prescribe.vue","webpack:///./src/views/prescribe.vue?3f07","webpack:///./src/views/prescribe.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","item","key","room","id","on","$event","fetchData","_s","name","onPrint","items","fields","scopedSlots","_u","fn","row","patient","family","thirdName","department","model","value","callback","$$v","$set","expression","saveInPatient","rows","perPage","currentPage","staticRenderFns","components","created","methods","console","log","data","window","location","loading","component"],"mappings":"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","file":"js/chunk-2d21728c.931e6bab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container page\"},[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"1\"}},[_c('a',[_vm._v(\"Палаты:\")])]),_c('b-col',{attrs:{\"md\":\"9\"}},[_c('b-button-group',[_vm._l((_vm.items),function(item){return _c('b-button',{key:item.room.id,on:{\"click\":function($event){return _vm.fetchData(1, item.room.id)}}},[_vm._v(_vm._s(item.room.name))])}),_c('b-button',{on:{\"click\":function($event){return _vm.fetchData(1)}}},[_vm._v(\"Все палаты\")])],2)],1),_c('b-col',{attrs:{\"md\":\"2\"}},[_c('b-button',{on:{\"click\":_vm.onPrint}},[_vm._v(\"Распечатать\")])],1)],1)],1),_c('br'),_c('b-table',{attrs:{\"id\":\"in-patients-table\",\"items\":_vm.items,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(orders)\",fn:function(row){return [_c('h5',{staticClass:\"mb-1\"},[_vm._v(_vm._s(row.item.patient.family + \" \" + row.item.patient.name + \" \" + row.item.patient.thirdName))]),_c('a',[_vm._v(_vm._s(row.item.department.name + \" \" + row.item.room.name))]),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Назначения...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(row.item.orders),callback:function ($$v) {_vm.$set(row.item, \"orders\", $$v)},expression:\"row.item.orders\"}})]}},{key:\"cell(problems)\",fn:function(row){return [_c('br'),_c('br'),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"План обследования, проблемы...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(row.item.problems),callback:function ($$v) {_vm.$set(row.item, \"problems\", $$v)},expression:\"row.item.problems\"}})]}},{key:\"cell(action)\",fn:function(row){return [_c('br'),_c('br'),_c('br'),_c('b-button',{on:{\"click\":function($event){return _vm.saveInPatient(row)}}},[_vm._v(\"Сохранить\")])]}}])}),_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"aria-controls\":\"in-patients-table\"},on:{\"input\":function($event){return _vm.fetchData(_vm.currentPage)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container page\">\n    <b-container>\n      <b-row>\n        <b-col md=\"1\">\n          <a>Палаты:</a>\n        </b-col>\n        <b-col md=\"9\">\n          <b-button-group>\n            <b-button\n              v-for=\"item in items\"\n              :key=\"item.room.id\"\n              v-on:click=\"fetchData(1, item.room.id)\"\n            >{{ item.room.name }}</b-button>\n            <b-button v-on:click=\"fetchData(1)\">Все палаты</b-button>\n          </b-button-group>\n        </b-col>\n        <b-col md=\"2\">\n          <b-button v-on:click=\"onPrint\">Распечатать</b-button>\n        </b-col>\n      </b-row>\n    </b-container>\n    <br />\n\n    <b-table id=\"in-patients-table\" :items=\"items\" :fields=\"fields\">\n      <template #cell(orders)=\"row\">\n        <h5\n          class=\"mb-1\"\n        >{{ row.item.patient.family + \" \" + row.item.patient.name + \" \" + row.item.patient.thirdName }}</h5>\n        <a>{{ row.item.department.name + \" \" + row.item.room.name}}</a>\n        <b-form-textarea\n          id=\"textarea\"\n          v-model=\"row.item.orders\"\n          placeholder=\"Назначения...\"\n          rows=\"3\"\n          max-rows=\"6\"\n        ></b-form-textarea>\n      </template>\n      <template #cell(problems)=\"row\">\n        <br />\n        <br />\n        <b-form-textarea\n          id=\"textarea\"\n          v-model=\"row.item.problems\"\n          placeholder=\"План обследования, проблемы...\"\n          rows=\"3\"\n          max-rows=\"6\"\n        ></b-form-textarea>\n      </template>\n      <template #cell(action)=\"row\">\n        <br />\n        <br />\n        <br />\n        <b-button v-on:click=\"saveInPatient(row)\">Сохранить</b-button>\n      </template>\n    </b-table>\n    <b-pagination\n      @input=\"fetchData(currentPage)\"\n      v-model=\"currentPage\"\n      :total-rows=\"rows\"\n      :per-page=\"perPage\"\n      aria-controls=\"in-patients-table\"\n    ></b-pagination>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport { PrescribeService } from \"@/common/api.service\";\nimport { API_URL } from \"@/common/config\";\n\nexport default {\n  name: \"doctors\",\n  components: {},\n  created: function() {\n    this.fetchData(1);\n  },\n  methods: {\n    saveInPatient(item) {\n      PrescribeService.updateInPatient(item.item).then(data => {\n        this.fetchData(this.currentPage);\n        console.log(data);\n      });\n    },\n    onPrint: function() {\n      window.location = API_URL + \"printOrders\";\n    },\n    fetchData(page, room) {\n      this.loading = true;\n      PrescribeService.getInPatients(page ? page : 1, room ? room : \"\").then(\n        data => {\n          this.items = data.data.items;\n          this.rows = data.data.totalItems;\n          this.perPage = data.data.per_page;\n          this.loading = false;\n        }\n      );\n    }\n  },\n  data() {\n    return {\n      perPage: 2,\n      currentPage: 1,\n      rows: null,\n      fields: [\n        { key: \"orders\", label: \"\" },\n        { key: \"problems\", label: \"\" },\n        { key: \"action\", label: \"\" }\n      ],\n      items: null\n    };\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prescribe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./prescribe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./prescribe.vue?vue&type=template&id=1383a050&\"\nimport script from \"./prescribe.vue?vue&type=script&lang=js&\"\nexport * from \"./prescribe.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}