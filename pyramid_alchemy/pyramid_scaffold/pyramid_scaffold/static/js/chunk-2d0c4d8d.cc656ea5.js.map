{"version":3,"sources":["webpack:///./src/views/patients.vue?3919","webpack:///src/views/patients.vue","webpack:///./src/views/patients.vue?5f7e","webpack:///./src/views/patients.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","family","expression","tags","on","$event","fetchData","_v","addPatient","loading","items","fields","item","index","event","clickList","rows","perPage","currentPage","staticRenderFns","name","components","created","methods","$router","push","data","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,WAAWC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIW,OAAOD,GAAKE,WAAW,aAAa,GAAGR,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,QAAQC,MAAM,CAACC,MAAOR,EAAQ,KAAES,SAAS,SAAUC,GAAMV,EAAIa,KAAKH,GAAKE,WAAW,WAAW,GAAGR,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,WAAW,CAACU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,UAAU,MAAM,CAAChB,EAAIiB,GAAG,YAAY,GAAGb,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACU,GAAG,CAAC,MAAQd,EAAIkB,aAAa,CAAClB,EAAIiB,GAAG,wBAAwB,IAAI,GAAGb,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAON,EAAImB,QAAQ,QAAU,OAAO,CAACf,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,GAAG,GAAK,iBAAiB,MAAQN,EAAIoB,MAAM,OAASpB,EAAIqB,OAAO,WAAa,IAAIP,GAAG,CAAC,eAAe,SAAUQ,EAAMC,EAAOC,GAAS,OAAOxB,EAAIyB,UAAUH,EAAMC,EAAOC,OAAapB,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaN,EAAI0B,KAAK,WAAW1B,EAAI2B,QAAQ,gBAAgB,kBAAkBb,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,UAAUhB,EAAI4B,eAAerB,MAAM,CAACC,MAAOR,EAAe,YAAES,SAAS,SAAUC,GAAMV,EAAI4B,YAAYlB,GAAKE,WAAW,kBAAkB,IAAI,IAAI,IAAI,IAAI,IAClwCiB,EAAkB,G,YC4CtB,GACEC,KAAM,WACNC,WAAY,GACZC,QAAS,WACP/B,KAAKe,UAAU,IAEjBiB,QAAS,CACPR,UADJ,SACA,GACMxB,KAAKiC,QAAQC,KAAK,CAAxB,qCAEIjB,WAAY,WACVjB,KAAKiC,QAAQC,KAAK,eAEpBnB,UAPJ,SAOA,cACMf,KAAKkB,SAAU,EACf,EAAN,SACA,KACA,2BACA,wBACA,kBACQ,EAAR,mBACQ,EAAR,uBACQ,EAAR,wBACQ,EAAR,gBAIEiB,KA3BF,WA4BI,MAAO,CACLzB,OAAQ,KACRE,KAAM,KACNM,SAAS,EACTO,KAAM,KACNC,QAAS,KACTC,YAAa,EACbP,OAAQ,CACd,CAAQ,IAAR,SAAQ,MAAR,WACA,CAAQ,IAAR,OAAQ,MAAR,OACA,CAAQ,IAAR,YAAQ,MAAR,YACA,CAAQ,IAAR,YAAQ,MAAR,iBACA,CAAQ,IAAR,OAAQ,MAAR,SAEMD,MAAO,QCvFqU,I,YCO9UiB,EAAY,eACd,EACAtC,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E","file":"js/chunk-2d0c4d8d.cc656ea5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"3\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Фамилия\"},model:{value:(_vm.family),callback:function ($$v) {_vm.family=$$v},expression:\"family\"}})],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Теги\"},model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}})],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('b-button',{on:{\"click\":function($event){return _vm.fetchData(1)}}},[_vm._v(\"Поиск\")])],1),_c('b-col',[_c('b-button',{on:{\"click\":_vm.addPatient}},[_vm._v(\"Добавить пациента\")])],1)],1),_c('b-row',[_c('b-col',[_c('b-overlay',{attrs:{\"show\":_vm.loading,\"rounded\":\"sm\"}},[_c('b-table',{attrs:{\"hover\":\"\",\"id\":\"patients-table\",\"items\":_vm.items,\"fields\":_vm.fields,\"selectable\":\"\"},on:{\"row-selected\":function (item, index, event) { return _vm.clickList(item, index, event); }}}),_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"aria-controls\":\"patients-table\"},on:{\"input\":function($event){return _vm.fetchData(_vm.currentPage)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-container>\n      <b-row>\n        <b-col md=\"3\">\n          <b-form-input v-model=\"family\" placeholder=\"Фамилия\"></b-form-input>\n        </b-col>\n        <b-col md=\"4\">\n          <b-form-input v-model=\"tags\" placeholder=\"Теги\"></b-form-input>\n        </b-col>\n        <b-col md=\"1\">\n          <b-button v-on:click=\"fetchData(1)\">Поиск</b-button>\n        </b-col>\n        <b-col>\n          <b-button v-on:click=\"addPatient\">Добавить пациента</b-button>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col>\n          <b-overlay :show=\"loading\" rounded=\"sm\">\n            <b-table\n              hover\n              id=\"patients-table\"\n              :items=\"items\"\n              :fields=\"fields\"\n              selectable\n              @row-selected=\"(item, index, event) => clickList(item, index, event)\"\n            ></b-table>\n            <b-pagination\n              @input=\"fetchData(currentPage)\"\n              v-model=\"currentPage\"\n              :total-rows=\"rows\"\n              :per-page=\"perPage\"\n              aria-controls=\"patients-table\"\n            ></b-pagination>\n          </b-overlay>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport { PatientsService } from \"@/common/api.service\";\n\nexport default {\n  name: \"patients\",\n  components: {},\n  created: function() {\n    this.fetchData(1);\n  },\n  methods: {\n    clickList(item) {\n      this.$router.push({ path: \"patient\", query: { id: item[0].id } });\n    },\n    addPatient: function() {\n      this.$router.push(\"addPatient\");\n    },\n    fetchData(page) {\n      this.loading = true;\n      PatientsService.get(\n        page ? page : 1,\n        this.family ? this.family : \"\",\n        this.tags ? this.tags : \"\"\n      ).then(data => {\n        this.items = data.data.items;\n        this.rows = data.data.totalItems;\n        this.perPage = data.data.per_page;\n        this.loading = false;\n      });\n    }\n  },\n  data() {\n    return {\n      family: null,\n      tags: null,\n      loading: false,\n      rows: null,\n      perPage: null,\n      currentPage: 1,\n      fields: [\n        { key: \"family\", label: \"Фамилия\" },\n        { key: \"name\", label: \"Имя\" },\n        { key: \"thirdName\", label: \"Отчество\" },\n        { key: \"birthdate\", label: \"Дата рождения\" },\n        { key: \"tags\", label: \"Теги\" }\n      ],\n      items: null\n    };\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patients.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./patients.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./patients.vue?vue&type=template&id=bb7d2466&\"\nimport script from \"./patients.vue?vue&type=script&lang=js&\"\nexport * from \"./patients.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}